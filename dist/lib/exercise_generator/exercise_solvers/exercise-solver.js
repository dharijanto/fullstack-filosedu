"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const Promise=require("bluebird");let marked=require("marked");class ExerciseSolver{constructor(e){this.structuralCheck(e),this.question=e}formatQuestion(e){return new Promise((t,i)=>{const r=this.question.printFn(e);r instanceof Promise?r.then(e=>{t(e)}).catch(e=>{i(e)}):t(r)}).then(e=>marked(e))}getIdealTimePerQuestion(){return this.question.idealTimePerQuestion||0}getExerciseIdealTime(){return this.question.idealTimePerQuestion*this.question.quantity||0}getQuestionQuantity(){return this.question.quantity||0}isAnswer(e,t){return this.question.isAnswerFn(e,t)}}exports.default=ExerciseSolver;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9saWIvZXhlcmNpc2VfZ2VuZXJhdG9yL2V4ZXJjaXNlX3NvbHZlcnMvZXhlcmNpc2Utc29sdmVyLnRzIl0sIm5hbWVzIjpbIlByb21pc2UiLCJyZXF1aXJlIiwibWFya2VkIiwiRXhlcmNpc2VTb2x2ZXIiLCJbb2JqZWN0IE9iamVjdF0iLCJxdWVzdGlvbkRhdGEiLCJ0aGlzIiwic3RydWN0dXJhbENoZWNrIiwicXVlc3Rpb24iLCJrbm93bnMiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0IiwicHJpbnRGbiIsInRoZW4iLCJkYXRhIiwiY2F0Y2giLCJlcnIiLCJpZGVhbFRpbWVQZXJRdWVzdGlvbiIsInF1YW50aXR5Iiwia25vd24iLCJ1bmtub3duIiwiaXNBbnN3ZXJGbiIsImV4cG9ydHMiLCJkZWZhdWx0Il0sIm1hcHBpbmdzIjoib0VBQUEsTUFBQUEsUUFBQUMsUUFBQSxZQUNBLElBQUlDLE9BQVNELFFBQVEsZ0JBY3JCRSxlQUlFQyxZQUFhQyxHQUNYQyxLQUFLQyxnQkFBZ0JGLEdBQ3JCQyxLQUFLRSxTQUFXSCxFQU1sQkQsZUFBZ0JLLEdBQ2QsT0FBTyxJQUFJVCxRQUFRLENBQUNVLEVBQVNDLEtBQzNCLE1BQU1DLEVBQVNOLEtBQUtFLFNBQVNLLFFBQVFKLEdBQ2pDRyxhQUFrQlosUUFDcEJZLEVBQU9FLEtBQUtDLElBQ1ZMLEVBQVFLLEtBQ1BDLE1BQU1DLElBQ1BOLEVBQU9NLEtBR1RQLEVBQVFFLEtBRVRFLEtBQUtDLEdBQ0NiLE9BQU9hLElBSWxCWCwwQkFDRSxPQUFPRSxLQUFLRSxTQUFTVSxzQkFBd0IsRUFHL0NkLHVCQUNFLE9BQVFFLEtBQUtFLFNBQVNVLHFCQUF1QlosS0FBS0UsU0FBU1csVUFBYSxFQUcxRWYsc0JBQ0UsT0FBT0UsS0FBS0UsU0FBU1csVUFBWSxFQUtuQ2YsU0FBVWdCLEVBQU9DLEdBQ2YsT0FBT2YsS0FBS0UsU0FBU2MsV0FBV0YsRUFBT0MsSUE1QzNDRSxRQUFBQyxRQUFBckIiLCJmaWxlIjoibGliL2V4ZXJjaXNlX2dlbmVyYXRvci9leGVyY2lzZV9zb2x2ZXJzL2V4ZXJjaXNlLXNvbHZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFByb21pc2UgZnJvbSAnYmx1ZWJpcmQnXG5sZXQgbWFya2VkID0gcmVxdWlyZSgnbWFya2VkJylcblxuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0ZWRRdWVzdGlvbkRhdGEge1xuICBrbm93bnM6IHsgW2tleTogc3RyaW5nXTogYW55fSxcbiAgdW5rbm93bnM6IHsgW2tleTogc3RyaW5nXTogYW55fVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VRdWVzdGlvbkRhdGEge1xuICBxdWFudGl0eTogbnVtYmVyXG4gIGlkZWFsVGltZVBlclF1ZXN0aW9uOiBudW1iZXJcbiAgaXNBbnN3ZXJGbjogKGtub3ducywgdW5rbm93bnMpID0+IGJvb2xlYW5cbiAgcHJpbnRGbjogKGtub3ducykgPT4gc3RyaW5nIHwgUHJvbWlzZTxzdHJpbmc+XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEV4ZXJjaXNlU29sdmVyIHtcbiAgcHVibGljIHN0YXRpYyByZWFkb25seSBzb2x2ZXJOYW1lOiBzdHJpbmdcbiAgcHJvdGVjdGVkIHF1ZXN0aW9uOiBCYXNlUXVlc3Rpb25EYXRhXG5cbiAgY29uc3RydWN0b3IgKHF1ZXN0aW9uRGF0YSkge1xuICAgIHRoaXMuc3RydWN0dXJhbENoZWNrKHF1ZXN0aW9uRGF0YSlcbiAgICB0aGlzLnF1ZXN0aW9uID0gcXVlc3Rpb25EYXRhXG4gIH1cblxuICAvLyBFbnN1cmUgZ2l2ZW4gcXVlc3Rpb24gaGFzIGFsbCB0aGUgcmVxdWlyZWQgc3RydWN0dXJlXG4gIGFic3RyYWN0IHN0cnVjdHVyYWxDaGVjayAocXVlc3Rpb24pXG5cbiAgZm9ybWF0UXVlc3Rpb24gKGtub3ducyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucXVlc3Rpb24ucHJpbnRGbihrbm93bnMpXG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXN1bHQudGhlbihkYXRhID0+IHtcbiAgICAgICAgICByZXNvbHZlKGRhdGEpXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUocmVzdWx0KVxuICAgICAgfVxuICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICByZXR1cm4gbWFya2VkKGRhdGEpXG4gICAgfSlcbiAgfVxuXG4gIGdldElkZWFsVGltZVBlclF1ZXN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVzdGlvbi5pZGVhbFRpbWVQZXJRdWVzdGlvbiB8fCAwXG4gIH1cblxuICBnZXRFeGVyY2lzZUlkZWFsVGltZSAoKSB7XG4gICAgcmV0dXJuICh0aGlzLnF1ZXN0aW9uLmlkZWFsVGltZVBlclF1ZXN0aW9uICogdGhpcy5xdWVzdGlvbi5xdWFudGl0eSkgfHwgMFxuICB9XG5cbiAgZ2V0UXVlc3Rpb25RdWFudGl0eSAoKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlc3Rpb24ucXVhbnRpdHkgfHwgMFxuICB9XG5cbiAgYWJzdHJhY3QgZ2VuZXJhdGVRdWVzdGlvbnMgKCk6IEdlbmVyYXRlZFF1ZXN0aW9uRGF0YVtdXG5cbiAgaXNBbnN3ZXIgKGtub3duLCB1bmtub3duKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucXVlc3Rpb24uaXNBbnN3ZXJGbihrbm93biwgdW5rbm93bilcbiAgfVxufVxuIl19
