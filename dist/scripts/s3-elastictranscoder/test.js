var AWS=require("aws-sdk"),fs=require("fs");AWS.config.update({region:"ap-southeast-1"});const name="601_Arti_Pecahan.mp4";fs.readFile("601_Arti_Pecahan.mp4",function(e,n){if(e)throw e;var o=Buffer.from(n,"binary"),t=new AWS.S3,a={Bucket:"ncloud-testing",Key:name,Body:o,ACL:"public-read"};t.putObject(a,function(e,n){if(e)console.log(e);else{console.log(n);var o=new AWS.ElasticTranscoder,t={PipelineId:"1517283530132-1wj56s",Input:{Key:name},OutputKeyPrefix:"videos_v1/",Outputs:[{Key:"360p-"+name,PresetId:"1517305976374-exb5fa"},{Key:"720p-"+name,PresetId:"1351620000001-000010"}]};o.createJob(t,function(e,n){e?console.log(e,e.stack):console.log(n)})}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zY3JpcHRzL3MzLWVsYXN0aWN0cmFuc2NvZGVyL3Rlc3QuanMiXSwibmFtZXMiOlsiQVdTIiwicmVxdWlyZSIsImZzIiwiY29uZmlnIiwidXBkYXRlIiwicmVnaW9uIiwibmFtZSIsInJlYWRGaWxlIiwiZXJyIiwiZGF0YSIsImJhc2U2NGRhdGEiLCJCdWZmZXIiLCJmcm9tIiwiczMiLCJTMyIsInBhcmFtcyIsIkJ1Y2tldCIsIktleSIsIkJvZHkiLCJBQ0wiLCJwdXRPYmplY3QiLCJjb25zb2xlIiwibG9nIiwiZWxhc3RpY3RyYW5zY29kZXIiLCJFbGFzdGljVHJhbnNjb2RlciIsInBhcmFtRWxhc3RpYyIsIlBpcGVsaW5lSWQiLCJJbnB1dCIsIk91dHB1dEtleVByZWZpeCIsIk91dHB1dHMiLCJQcmVzZXRJZCIsImNyZWF0ZUpvYiIsInN0YWNrIl0sIm1hcHBpbmdzIjoiQUFpQkEsSUFBSUEsSUFBTUMsUUFBUSxXQUNkQyxHQUFLRCxRQUFRLE1BRWpCRCxJQUFJRyxPQUFPQyxRQUFRQyxPQUFRLG1CQUUzQixNQUFNQyxLQUFPLHVCQUViSixHQUFHSyxTQUFTLHVCQUF3QixTQUFVQyxFQUFLQyxHQUNqRCxHQUFJRCxFQUNGLE1BQU1BLEVBR1IsSUFBSUUsRUFBYUMsT0FBT0MsS0FBS0gsRUFBTSxVQUMvQkksRUFBSyxJQUFJYixJQUFJYyxHQUViQyxHQUNGQyxPQUFRLGlCQUNSQyxJQUFLWCxLQUNMWSxLQUFNUixFQUNOUyxJQUFLLGVBR1BOLEVBQUdPLFVBQVVMLEVBQVEsU0FBVVAsRUFBS0MsR0FDbEMsR0FBSUQsRUFDRmEsUUFBUUMsSUFBSWQsT0FDUCxDQUNMYSxRQUFRQyxJQUFJYixHQUNaLElBQUljLEVBQW9CLElBQUl2QixJQUFJd0Isa0JBQzVCQyxHQUNGQyxXQUFZLHVCQUNaQyxPQUNFVixJQUFLWCxNQUdQc0IsZ0JBQWlCLGFBQ2pCQyxVQUVJWixJQUFLLFFBQVVYLEtBQ2Z3QixTQUFVLHlCQUdWYixJQUFLLFFBQVVYLEtBQ2Z3QixTQUFVLDBCQUtoQlAsRUFBa0JRLFVBQVVOLEVBQWMsU0FBVWpCLEVBQUtDLEdBQ25ERCxFQUNGYSxRQUFRQyxJQUFJZCxFQUFLQSxFQUFJd0IsT0FFckJYLFFBQVFDLElBQUliIiwiZmlsZSI6InNjcmlwdHMvczMtZWxhc3RpY3RyYW5zY29kZXIvdGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAxMy4gQW1hem9uIFdlYiBTZXJ2aWNlcywgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbioqL1xuXG4vLyBMb2FkIHRoZSBTREsgYW5kIFVVSURcbnZhciBBV1MgPSByZXF1aXJlKCdhd3Mtc2RrJylcbnZhciBmcyA9IHJlcXVpcmUoJ2ZzJylcblxuQVdTLmNvbmZpZy51cGRhdGUoe3JlZ2lvbjogJ2FwLXNvdXRoZWFzdC0xJ30pXG5cbmNvbnN0IG5hbWUgPSAnNjAxX0FydGlfUGVjYWhhbi5tcDQnXG5cbmZzLnJlYWRGaWxlKCc2MDFfQXJ0aV9QZWNhaGFuLm1wNCcsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgaWYgKGVycikge1xuICAgIHRocm93IGVyclxuICB9XG5cbiAgdmFyIGJhc2U2NGRhdGEgPSBCdWZmZXIuZnJvbShkYXRhLCAnYmluYXJ5JylcbiAgdmFyIHMzID0gbmV3IEFXUy5TMygpXG5cbiAgdmFyIHBhcmFtcyA9IHtcbiAgICBCdWNrZXQ6ICduY2xvdWQtdGVzdGluZycsXG4gICAgS2V5OiBuYW1lLFxuICAgIEJvZHk6IGJhc2U2NGRhdGEsXG4gICAgQUNMOiAncHVibGljLXJlYWQnXG4gIH1cblxuICBzMy5wdXRPYmplY3QocGFyYW1zLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgdmFyIGVsYXN0aWN0cmFuc2NvZGVyID0gbmV3IEFXUy5FbGFzdGljVHJhbnNjb2RlcigpXG4gICAgICB2YXIgcGFyYW1FbGFzdGljID0ge1xuICAgICAgICBQaXBlbGluZUlkOiAnMTUxNzI4MzUzMDEzMi0xd2o1NnMnLCAvKiByZXF1aXJlZCAqL1xuICAgICAgICBJbnB1dDoge1xuICAgICAgICAgIEtleTogbmFtZVxuICAgICAgICB9LFxuICAgICAgLy8gT3V0cHV0S2V5UHJlZml4IG1lYW4gZm9sZGVyIHR1anVhblxuICAgICAgICBPdXRwdXRLZXlQcmVmaXg6ICd2aWRlb3NfdjEvJyxcbiAgICAgICAgT3V0cHV0czogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIEtleTogJzM2MHAtJyArIG5hbWUsXG4gICAgICAgICAgICBQcmVzZXRJZDogJzE1MTczMDU5NzYzNzQtZXhiNWZhJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgS2V5OiAnNzIwcC0nICsgbmFtZSxcbiAgICAgICAgICAgIFByZXNldElkOiAnMTM1MTYyMDAwMDAwMS0wMDAwMTAnXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG5cbiAgICAgIGVsYXN0aWN0cmFuc2NvZGVyLmNyZWF0ZUpvYihwYXJhbUVsYXN0aWMsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVyciwgZXJyLnN0YWNrKSAvLyBhbiBlcnJvciBvY2N1cnJlZFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9KVxufSlcbiJdfQ==
