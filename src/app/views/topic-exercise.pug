extends layout/base-with-subbar.pug

append head
  link(rel='stylesheet' href='/assets/css/base.css')
  link(rel="stylesheet" href="/assets/css/competency-exercise.css")

  style.
    body {
      background-image: linear-gradient(to top, #008f7a 0%, #0089ba 20%, #008f7a 100%);
    }
  //style.
    body {
      font-family: 'Roboto','Helvetica';
    }
    a {
        text-decoration: none;
    }
    .easy-get:hover {
        cursor: pointer;
    }
    .easy-numpad-frame {
        position: fixed;
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        z-index: 999999;
        display: flex;
        display: -webkit-flex;
        align-items: center;
        -webkit-align-items: center;
        justify-content: center;
        -webkit-justify-content: center;
        background-color: rgba(2,0,1,0.8);
    }
    .easy-numpad-container {
        position: relative;
        margin: 0 auto;
        width: 100%;
        max-width: 310px; /*max-width: 300px; per far rietrare i 10 caratteri più i segni . e - utilizzando il font Helvetica*/
        -webkit-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.5);
        -moz-box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.5);
        box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.5);
        background-color: lightgray; /*Aggiunto per migliorare la visibilità dei tasti*/
        padding: 10px;
    }
    a#easy-numpad-close {
        position: absolute;
        right: -54px;
        top: -56px;
        background-color: #f44336;
        color: #fff;
        line-height: 1;
        padding: 20px 21px;
    }
    .easy-numpad-output-container {
        position: relative;
        width: 100%;
        overflow: hidden; /*Aggiunto per nascondere i digit oltre lo spazio disponibile*/
    }
    .easy-numpad-output {
        width: 100%;
        border: 1px solid #666;
        background-color: rgba(255, 255, 255, 0.8);
        box-sizing: border-box;
        margin: 0px;
        text-align: center;/*text-align: center;*/
        min-height: 60px;
        display: flex;
        display: -webkit-flex;
        align-items: center;
        -webkit-align-items: center;
        justify-content: center;
        -webkit-justify-content: flex-end;/*-webkit-justify-content: center;*/
        font-size: 50px;
      border-radius: 6px;
    }
    .easy-numpad-number-container > table {
        width: calc(100% + 6px);
        position: relative;
        left: -3px;
        margin-top: 10px;
    }
    .easy-numpad-number-container > table a {
        display: block;
        padding: 16px 10px;
        background-color: #424242;
        color: #fff;
        text-align: center;
      border-radius: 6px;
    }
    .easy-numpad-number-container > table a:hover {
        background-color: #616161;
    }

    .easy-numpad-number-container .cancel {
        background-color: #FE642E;
    }
    .easy-numpad-number-container .done {
        background-color: #388E3C;
    }

    @media only screen and (min-width : 300px) and (max-width : 767px) {
        a#easy-numpad-close {
            right: 0px
        }
    }

block minibarLeftMenu
  a.link-back(href='/' data-toggle='modal')
    i.fa.fa-times

block minibarMidMenu
  //h1 Review #{topicName}
  h1
    span.desktop-only
      | #{"Matematika "}
      i.bread.fa.fa-chevron-right
      |  #{"Penjumlahan "}
      i.bread.fa.fa-chevron-right
    span  Review Penjumlahan
    span.mobile-only#sub-heading
      // Target Waktu: 30 Menit
      .exercise-timer
        img(src='/assets/img/chronometer@3x.png' alt='')
        span#elapsedTime
        span #{" / "}
        span#targetTime
        span #{"  "}
        span
          button#btn-reset Ulang

block pageContent
  .container.text-center
    #header
      #timer
        if idealTime > 0
          //span#targetTime(style="{color: black !important}") Goal: #[strong #{idealTime} detik]
          img(src="/assets/img/chronometer.png" srcset="/assets/img/chronometer@2x.png 2x, /assets/img/chronometer@3x.png 3x" class="chronometer")
          span#elapsedTime.black-text
    #exercise
      div.text-center#questionSubmit
        - let exerciseIndex = 0
        - let numExercises = formattedExercises.reduce((acc, formattedExercise) => acc + formattedExercise.renderedQuestions.length, 0)
        each formattedExercise in formattedExercises
            //- if ((formattedExercise.renderedQuestions).length > 0)
            each renderedQuestion, index in formattedExercise.renderedQuestions
              form(name='question')
                .row.rendered-question
                  .exercise-position
                    span #{exerciseIndex + 1} / #{numExercises}
                  .exercise-content !{renderedQuestion}
                  for unknown in formattedExercise.unknowns[index]
                    .user-answer
                      span.variable #{unknown} =
                      input.answerInput(name=`${unknown}` placeholder='{ketik disini}')
                      .virtual-keyboard
                      // include includes/numpad
                div(class=`resultAnswer_${exerciseIndex}`)
                - exerciseIndex++
      div.text-center(style="margin-bottom:5%;")
        div.scoreSection
          p.hidden(id='currentScore')
          p.hidden(id='submissionError')
        // a.btn.btn-primary.btn-submit-answer(href="javascript:void(0);") Submit
        button.rounded-button#btn-submit-answer
          | Submit #{" "}
          img(src="/assets/img/arrow-pointing-to-right.png" srcset="/assets/img/arrow-pointing-to-right@2x.png 2x, /assets/img/arrow-pointing-to-right@3x.png 3x" class="arrow-pointing-to-right")
        // a.hidden.btn.rounded-button#btn-retry(href="")
        button.hidden.rounded-button#btn-retry
          | Ulangi
        // a.btn.btn-primary.btn_retry_question.hidden(href="") Retry

append scripts
  script().
    window['elapsedTime'] = !{elapsedTime}
    window['idealTime'] = !{idealTime}
  script(src=('/assets/vendor/form-serializer/dist/jquery.serialize-object.min.js'))
  script(src="/assets/vendor/jquery-timer/timer.jquery.js")
  script(src=`${bundle}`)
