(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function doLog(o,e,r){var l=logLevelOrders.indexOf(logLevel);if(logLevelOrders.indexOf(o)>=l){("error"===o?console.error.bind(console):console.log.bind(console))("["+e+"] "+r)}}var logLevelOrders=["debug","verbose","info","error"],logLevel="debug",log={};log.debug=function(o,e){doLog("debug",o,e)},log.verbose=function(o,e){doLog("verbose",o,e)},log.info=function(o,e){doLog("info",o,e)},log.error=function(o,e){doLog("error",o,e)},log.setLogLevel=function(o){logLevel=o},module.exports=log;

},{}],2:[function(require,module,exports){
(function (global){
"use strict";var videojs="undefined"!=typeof window?window.videojs:"undefined"!=typeof global?global.videojs:null,$="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,TAG="Subtopic-App",log=require("../libs/logger");$(document).ready(function(){function e(e,o){$.ajax({method:"POST",url:"/video/analytics",data:{videoId:o,value:e,key:"feedback"}}).done(function(e){e.status||console.error(JSON.stringify(e.errMessage))}).fail(function(e,o){console.error(o)})}var o=videojs("#video-player");o.videoJsResolutionSwitcher({default:"low",dynamicLabel:!0}),o.on("pause",function(e){log.verbose(TAG,"onVideoPaused()"),clearInterval(i),i=null});var i=null,n=10;o.on("play",function(e){log.verbose(TAG,"onVideoPlay()"),i&&clearInterval(i);var o=$("#video-player").data("id");i=setInterval(function(){log.verbose(TAG,"onVideoBeingViewed()"),function(e){$.ajax({method:"POST",url:"/video/analytics",data:{videoId:e,value:n,key:"viewDuration"}}).done(function(e){e.status||console.error(JSON.stringify(e.errMessage))}).fail(function(e,o){console.error(o)})}(o)},1e3*n)});var a=!1;o.one("play",function(){a=!0,log.verbose(TAG,"onVideoViewedOnce()");!function(e){$.ajax({method:"POST",url:"/video/analytics",data:{videoId:e,value:1,key:"view"}}).done(function(e){e.status||console.error(JSON.stringify(e.errMessage))}).fail(function(e,o){console.error(o)})}($("#video-player").data("id"))}),$(".exerciseButton").click(function(){var e=$(this).data("href"),o=$("#video-player").data("id");log.verbose(TAG,"onExerciseClicked(): hrefData="+e),a?window.location.href=e:(log.verbose(TAG,"onVideoSkipped()"),function(e,o){$.ajax({method:"POST",url:"/video/analytics",timeout:700,data:{videoId:e,value:1,key:"skip"}}).done(function(e){e.status||console.error(JSON.stringify(e.errMessage)),o()}).fail(function(e,i){console.error(i),o()})}(o,function(){window.location.href=e}))}),o.endcapCTA({html:'<section class="endcapCallToActionContent" id="video-feedback-cta">\n  <h2> Rate this video: </h2>\n  </br>\n  <button id="video-feedback-good">\n    <img class="video-feedback-image" src="/assets/img/good_smiley.jpg"/>\n  </button>\n  <button id="video-feedback-bad">\n    <img class="video-feedback-image" src="/assets/img/bad_smiley.jpg"/>\n  </button>\n</section>',run:function(){$("#video-feedback-good").off("click"),$("#video-feedback-bad").off("click");var o=$("#video-player").data("id");$("#video-feedback-good").on("click",function(i){e(1,o),$(this).parent().parent().removeClass("is-active")}),$("#video-feedback-bad").on("click",function(i){e(-1,o),$(this).parent().parent().removeClass("is-active")})}})});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../libs/logger":1}]},{},[2]);
